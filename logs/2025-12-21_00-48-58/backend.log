
============================================================
å¯åŠ¨æ—¶é—´: 2025-12-21 00:48:58
============================================================

INFO:     Will watch for changes in these directories: ['/Users/mac/Desktop/AS/backend']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [72231] using WatchFiles
INFO:     Started server process [72234]
INFO:     Waiting for application startup.
INFO:apscheduler.scheduler:Adding job tentatively -- it will be properly scheduled when the scheduler starts
INFO:apscheduler.scheduler:Added job "SchedulerService.run_daily_workflow" to job store "default"
INFO:apscheduler.scheduler:Scheduler started
INFO:     Application startup complete.
âœ“ LLM Service initialized with Bohrium (Model: qwen3-max)
[ç±»åˆ«æ˜ å°„] å·²åŠ è½½ 12 ä¸ªä¸»ç±»åˆ«çš„æ˜ å°„è¡¨
Starting up...
è°ƒåº¦å™¨å·²å¯åŠ¨ã€‚æ¯æ—¥ä»»åŠ¡å®‰æ’åœ¨ 09:30ã€‚
INFO:     127.0.0.1:50970 - "GET / HTTP/1.1" 200 OK
[å¼€å‘æ¨¡å¼] ä½¿ç”¨ç¯å¢ƒå˜é‡ä¸­çš„é»˜è®¤ accessKey
âœ“ æ— è¿‡æœŸä»»åŠ¡
INFO:     127.0.0.1:50996 - "POST /api/v1/user/init-from-bohrium HTTP/1.1" 200 OK
[å¼€å‘æ¨¡å¼] ä½¿ç”¨ç¯å¢ƒå˜é‡ä¸­çš„é»˜è®¤ accessKey
INFO:     127.0.0.1:50997 - "POST /api/v1/user/init-from-bohrium HTTP/1.1" 200 OK
[Auth] ğŸ”§ å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨å›ºå®š user_id = 6z023dyl
[Auth] ğŸ”§ å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨å›ºå®š user_id = 6z023dyl
[Auth] ğŸ”§ å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨å›ºå®š user_id = 6z023dyl
[Auth] ğŸ”§ å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨å›ºå®š user_id = 6z023dyl
INFO:     127.0.0.1:50999 - "GET /api/v1/papers/recommendations HTTP/1.1" 200 OK
INFO:     127.0.0.1:51001 - "GET /api/v1/reports/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51002 - "GET /api/v1/papers/recommendations?date=2025-12-21 HTTP/1.1" 200 OK
INFO:     127.0.0.1:50998 - "GET /api/v1/user/me HTTP/1.1" 200 OK
[å¼€å‘æ¨¡å¼] ä½¿ç”¨ç¯å¢ƒå˜é‡ä¸­çš„é»˜è®¤ accessKey
INFO:     127.0.0.1:51140 - "POST /api/v1/user/init-from-bohrium HTTP/1.1" 200 OK
[å¼€å‘æ¨¡å¼] ä½¿ç”¨ç¯å¢ƒå˜é‡ä¸­çš„é»˜è®¤ accessKey
INFO:     127.0.0.1:51141 - "POST /api/v1/user/init-from-bohrium HTTP/1.1" 200 OK
[Auth] ğŸ”§ å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨å›ºå®š user_id = 6z023dyl
[Auth] ğŸ”§ å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨å›ºå®š user_id = 6z023dyl
[Auth] ğŸ”§ å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨å›ºå®š user_id = 6z023dyl
[Auth] ğŸ”§ å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨å›ºå®š user_id = 6z023dyl
INFO:     127.0.0.1:51145 - "GET /api/v1/papers/recommendations HTTP/1.1" 200 OK
[Auth] ğŸ”§ å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨å›ºå®š user_id = 6z023dyl
Error fetching profile: [Errno 35] Resource temporarily unavailable
Error fetching recommendations: [Errno 35] Resource temporarily unavailable
INFO:     127.0.0.1:51147 - "GET /api/v1/papers/recommendations?date=2025-12-21 HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/opt/miniconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 69, in map_httpcore_exceptions
    yield
  File "/opt/miniconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 438, in _read_incoming_data
    raise self._read_exception  # pragma: nocover
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/miniconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 69, in map_httpcore_exceptions
    yield
  File "/opt/miniconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 233, in handle_request
    resp = self._pool.handle_request(req)
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 256, in handle_request
    raise exc from None
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/connection_pool.py", line 236, in handle_request
    response = connection.handle_request(
        pool_request.request
    )
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/connection.py", line 103, in handle_request
    return self._connection.handle_request(request)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 187, in handle_request
    raise exc
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 150, in handle_request
    status, headers = self._receive_response(
                      ~~~~~~~~~~~~~~~~~~~~~~^
        request=request, stream_id=stream_id
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 294, in _receive_response
    event = self._receive_stream_event(request, stream_id)
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 336, in _receive_stream_event
    self._receive_events(request, stream_id)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 364, in _receive_events
    events = self._read_incoming_data(request)
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 455, in _read_incoming_data
    raise exc
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_sync/http2.py", line 441, in _read_incoming_data
    data = self._network_stream.read(self.READ_NUM_BYTES, timeout)
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_backends/sync.py", line 126, in read
    with map_exceptions(exc_map):
         ~~~~~~~~~~~~~~^^^^^^^^^
  File "/opt/miniconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/opt/miniconda3/lib/python3.13/site-packages/httpcore/_exceptions.py", line 14, in map_exceptions
    raise to_exc(exc) from exc
httpcore.ReadError: [Errno 35] Resource temporarily unavailable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/mac/Desktop/AS/backend/app/services/user_service.py", line 160, in get_profile
    response = self.db.table("profiles").select("*").eq("user_id", user_id).execute()
  File "/opt/miniconda3/lib/python3.13/site-packages/postgrest/_sync/request_builder.py", line 47, in execute
    r = self.request.send()
  File "/opt/miniconda3/lib/python3.13/site-packages/postgrest/base_request_builder.py", line 81, in send
    return self.session.request(
           ~~~~~~~~~~~~~~~~~~~~^
        self.http_method,
        ^^^^^^^^^^^^^^^^^
    ...<4 lines>...
        auth=self.auth,
        ^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/miniconda3/lib/python3.13/site-packages/httpx/_client.py", line 827, in request
    return self.send(request, auth=auth, follow_redirects=follow_redirects)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/miniconda3/lib/python3.13/site-packages/httpx/_client.py", line 914, in send
    response = self._send_handling_auth(
        request,
    ...<2 lines>...
        history=[],
    )
  File "/opt/miniconda3/lib/python3.13/site-packages/httpx/_client.py", line 942, in _send_handling_auth
    response = self._send_handling_redirects(
        request,
        follow_redirects=follow_redirects,
        history=history,
    )
  File "/opt/miniconda3/lib/python3.13/site-packages/httpx/_client.py", line 979, in _send_handling_redirects
    response = self._send_single_request(request)
  File "/opt/miniconda3/lib/python3.13/site-packages/httpx/_client.py", line 1015, in _send_single_request
    response = transport.handle_request(request)
  File "/opt/miniconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 232, in handle_request
    with map_httpcore_exceptions():
         ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/opt/miniconda3/lib/python3.13/contextlib.py", line 162, in __exit__
    self.gen.throw(value)
    ~~~~~~~~~~~~~~^^^^^^^
  File "/opt/miniconda3/lib/python3.13/site-packages/httpx/_transports/default.py", line 86, in map_httpcore_exceptions
    raise mapped_exc(message) from exc
httpx.ReadError: [Errno 35] Resource temporarily unavailable
INFO:     127.0.0.1:51146 - "GET /api/v1/reports/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51161 - "GET /api/v1/workflow/active HTTP/1.1" 200 OK
INFO:     127.0.0.1:51144 - "GET /api/v1/user/me HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:51188 - "POST /api/v1/papers/batch HTTP/1.1" 200 OK
[Auth] ğŸ”§ å¼€å‘æ¨¡å¼ï¼šä½¿ç”¨å›ºå®š user_id = 6z023dyl
INFO:     127.0.0.1:51194 - "GET /api/v1/workflow/active HTTP/1.1" 200 OK
INFO:     Shutting down
